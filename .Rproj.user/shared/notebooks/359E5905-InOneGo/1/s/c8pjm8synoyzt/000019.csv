"0",""
"0","sets <- unique(ifelse(disease_order %in% c('CD', 'UC'), 'IBD', disease_order))"
"0","types <- rep(names(disease_types), sapply(disease_types, length))"
"0","types <- types[-match(""AI"", types)]"
"0","metadata <- as.data.frame(cbind(sets, types))"
"0","names(metadata) <- c(""sets"", ""disease"")"
"0",""
"0","png(""../Results/Compositions_Upset.png"", width = 5500, height = 4000, res = 500)"
"0",""
"0","upset(trait_presence_df, nintersects = 10, "
"0","      point.size = 2.7, line.size = 1, "
"0","      mainbar.y.label = ""Intersections"","
"0","      sets.x.label = ""Glycan Compositions"", "
"0","      text.scale = c(1.5, 1.5, 1.3, 1.5, 1.5, 1.5), "
"0","      matrix.color = ""#0074B3"", sets.bar.color = ""#F47720"", main.bar.color = ""#F47720"","
"0","      keep.order = TRUE, order.by = ""freq"", sets = sets,"
"0","      #sets = c(""AIH"", ""IBD"", ""RA"", ""LMS"", ""COVID19"", ""T2D"", ""MASH"", ""BC"", ""CRC"", ""MM"", ""PC""),"
"0","      set.metadata = list(data = metadata, plots = list("
"0","        list(type = ""text"", column = ""disease"", assign = 3, colors = type_colors, title = NULL),"
"0","        list(type = ""heat"", column = ""disease"", assign = 7, colors = type_colors, alpha = 0.5, title = NULL),"
"0","        list(type = ""matrix_rows"", column = ""disease"", colors = type_colors, alpha = 0.5))),"
"0","      queries = list(list(query = intersects, params = sets, color=""#0074B3"",  active = T))"
"0","      )"

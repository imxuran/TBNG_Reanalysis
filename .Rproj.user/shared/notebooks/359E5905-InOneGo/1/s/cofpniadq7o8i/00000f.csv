"0",""
"0","# Create new dataframes to store the results of three models"
"0","col_names <- c(""trait"", ""estimate"", ""SE"", ""stas"", ""p_value"", ""CI_lower"", ""CI_upper"")"
"0","age_df <- data.frame(matrix(ncol = length(col_names), nrow = 0))"
"0","colnames(age_df) <- col_names"
"0","sex_df <- data.frame(matrix(ncol = length(col_names), nrow = 0))"
"0","colnames(sex_df) <- col_names"
"0","both_df <- data.frame(matrix(ncol = length(col_names), nrow = 0))"
"0","colnames(both_df) <- col_names"
"0",""
"0",""
"0",""
"0","for (t in common_traits) {"
"0","  "
"0","  # Linear model for age"
"0","  lm_age <- lm(as.formula(paste(""age ~"", t)), data = df_std)"
"0","  age_df[nrow(age_df) + 1, ] <- tidy(lm_age, conf.int = TRUE, exponentiate = FALSE) %>%"
"0","    filter(term != ""(Intercept)"")"
"0","  "
"0",""
"0","  # Logistic regression model for sex"
"0","  lm_sex <- glm(as.formula(paste(""sex ~"", t)), family = binomial, data = df_std)"
"0","  sex_df[nrow(sex_df) + 1, ] <- tidy(lm_sex, conf.int = TRUE, exponentiate = TRUE) %>%"
"0","    filter(term != ""(Intercept)"")"
"0","  "
"0","  "
"0","  # Linear models with interaction terms"
"0","  lm_both <- lm(as.formula(paste(""age ~"", t, ""* sex"")), data = df_std)"
"0","  both_df[nrow(both_df) + 1, ] <- tidy(lm_both, conf.int = TRUE, exponentiate = FALSE) [4,]"
"0","  "
"0","}"
"0",""
"0",""
"0","# Reorder the daraframes based on the absolute value of the estimates"
"0","age_df <- age_df[order(abs(age_df$estimate), decreasing = TRUE), ]"
"0","sex_df <- sex_df[order(abs(sex_df$estimate), decreasing = TRUE), ]"
"0","both_df <- both_df[order(abs(both_df$estimate), decreasing = TRUE), ]"
"0","both_df$trait<-sub("":sex$"", """", both_df$trait)"
"0",""
